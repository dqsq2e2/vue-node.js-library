{
  "primaryDatabase": "mysql",
  "lastSwitchTime": "2025-11-26T16:07:18.076Z",
  "switchHistory": [
    {
      "id": "1764083266897",
      "fromDB": "mysql",
      "toDB": "mariadb",
      "timestamp": "2025-11-25T15:07:46.897Z",
      "reason": "1",
      "operator": "admin",
      "force": false,
      "skipConsistencyCheck": false,
      "consistencyReport": {
        "consistent": true,
        "details": {
          "books": {
            "consistent": true,
            "sourceRecords": 22,
            "targetRecords": 22,
            "difference": 0
          },
          "reader_profiles": {
            "consistent": true,
            "sourceRecords": 6,
            "targetRecords": 6,
            "difference": 0
          },
          "categories": {
            "consistent": true,
            "sourceRecords": 17,
            "targetRecords": 17,
            "difference": 0
          },
          "borrow_records": {
            "consistent": true,
            "sourceRecords": 10,
            "targetRecords": 10,
            "difference": 0
          },
          "system_users": {
            "consistent": true,
            "sourceRecords": 6,
            "targetRecords": 6,
            "difference": 0
          }
        },
        "totalTables": 5,
        "consistentTables": 5
      },
      "status": "completed",
      "completedAt": "2025-11-25T15:07:47.001Z"
    },
    {
      "id": "1764083321715",
      "fromDB": "mariadb",
      "toDB": "mysql",
      "timestamp": "2025-11-25T15:08:41.715Z",
      "reason": "1",
      "operator": "admin",
      "force": false,
      "skipConsistencyCheck": false,
      "consistencyReport": {
        "consistent": true,
        "details": {
          "books": {
            "consistent": true,
            "sourceRecords": 22,
            "targetRecords": 22,
            "difference": 0
          },
          "reader_profiles": {
            "consistent": true,
            "sourceRecords": 6,
            "targetRecords": 6,
            "difference": 0
          },
          "categories": {
            "consistent": true,
            "sourceRecords": 17,
            "targetRecords": 17,
            "difference": 0
          },
          "borrow_records": {
            "consistent": true,
            "sourceRecords": 10,
            "targetRecords": 10,
            "difference": 0
          },
          "system_users": {
            "consistent": true,
            "sourceRecords": 6,
            "targetRecords": 6,
            "difference": 0
          }
        },
        "totalTables": 5,
        "consistentTables": 5
      },
      "status": "completed",
      "completedAt": "2025-11-25T15:08:41.791Z"
    },
    {
      "id": "1764083336433",
      "fromDB": "mysql",
      "toDB": "mariadb",
      "timestamp": "2025-11-25T15:08:56.433Z",
      "reason": "1",
      "operator": "admin",
      "force": false,
      "skipConsistencyCheck": false,
      "consistencyReport": {
        "consistent": true,
        "details": {
          "books": {
            "consistent": true,
            "sourceRecords": 22,
            "targetRecords": 22,
            "difference": 0
          },
          "reader_profiles": {
            "consistent": true,
            "sourceRecords": 6,
            "targetRecords": 6,
            "difference": 0
          },
          "categories": {
            "consistent": true,
            "sourceRecords": 17,
            "targetRecords": 17,
            "difference": 0
          },
          "borrow_records": {
            "consistent": true,
            "sourceRecords": 10,
            "targetRecords": 10,
            "difference": 0
          },
          "system_users": {
            "consistent": true,
            "sourceRecords": 6,
            "targetRecords": 6,
            "difference": 0
          }
        },
        "totalTables": 5,
        "consistentTables": 5
      },
      "status": "completed",
      "completedAt": "2025-11-25T15:08:56.531Z"
    },
    {
      "id": "1764083791419",
      "fromDB": "mariadb",
      "toDB": "mysql",
      "timestamp": "2025-11-25T15:16:31.419Z",
      "reason": "1",
      "operator": "admin",
      "force": false,
      "skipConsistencyCheck": false,
      "consistencyReport": {
        "consistent": true,
        "details": {
          "books": {
            "consistent": true,
            "sourceRecords": 22,
            "targetRecords": 22,
            "difference": 0
          },
          "reader_profiles": {
            "consistent": true,
            "sourceRecords": 6,
            "targetRecords": 6,
            "difference": 0
          },
          "categories": {
            "consistent": true,
            "sourceRecords": 17,
            "targetRecords": 17,
            "difference": 0
          },
          "borrow_records": {
            "consistent": true,
            "sourceRecords": 10,
            "targetRecords": 10,
            "difference": 0
          },
          "system_users": {
            "consistent": true,
            "sourceRecords": 6,
            "targetRecords": 6,
            "difference": 0
          }
        },
        "totalTables": 5,
        "consistentTables": 5
      },
      "status": "failed",
      "error": "数据不一致，无法切换。不一致表数: 1",
      "failedAt": "2025-11-26T14:22:38.296Z"
    },
    {
      "id": "1764167335882",
      "fromDB": "mysql",
      "toDB": "mariadb",
      "timestamp": "2025-11-26T14:28:55.882Z",
      "reason": "管理员切换到MARIADB",
      "operator": "admin",
      "force": false,
      "skipConsistencyCheck": false,
      "consistencyReport": {
        "consistent": true,
        "details": {
          "books": {
            "consistent": true,
            "sourceRecords": 24,
            "targetRecords": 24,
            "difference": 0
          },
          "reader_profiles": {
            "consistent": true,
            "sourceRecords": 9,
            "targetRecords": 9,
            "difference": 0
          },
          "categories": {
            "consistent": true,
            "sourceRecords": 23,
            "targetRecords": 23,
            "difference": 0
          },
          "borrow_records": {
            "consistent": true,
            "sourceRecords": 14,
            "targetRecords": 14,
            "difference": 0
          },
          "system_users": {
            "consistent": true,
            "sourceRecords": 9,
            "targetRecords": 9,
            "difference": 0
          }
        },
        "totalTables": 5,
        "consistentTables": 5
      },
      "status": "in_progress"
    },
    {
      "id": "1764173235523",
      "fromDB": "mariadb",
      "toDB": "mysql",
      "timestamp": "2025-11-26T16:07:15.523Z",
      "reason": "管理员切换到MYSQL",
      "operator": "admin",
      "force": false,
      "skipConsistencyCheck": false,
      "consistencyReport": {
        "consistent": true,
        "details": {
          "books": {
            "consistent": true,
            "sourceRecords": 24,
            "targetRecords": 24,
            "difference": 0
          },
          "reader_profiles": {
            "consistent": true,
            "sourceRecords": 9,
            "targetRecords": 9,
            "difference": 0
          },
          "categories": {
            "consistent": true,
            "sourceRecords": 23,
            "targetRecords": 23,
            "difference": 0
          },
          "borrow_records": {
            "consistent": true,
            "sourceRecords": 14,
            "targetRecords": 14,
            "difference": 0
          },
          "system_users": {
            "consistent": true,
            "sourceRecords": 9,
            "targetRecords": 9,
            "difference": 0
          }
        },
        "totalTables": 5,
        "consistentTables": 5
      },
      "status": "in_progress"
    }
  ],
  "availableDatabases": [
    "mysql",
    "mariadb",
    "greatsql"
  ]
}